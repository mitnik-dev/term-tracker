<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:TermTracker.Views.Components"
             x:Class="TermTracker.Views.TermPage"
             Title="Term Info">
    <Shell.TitleView>
        <Label Text="Term Info"
           FontFamily="InterMedium18"
           FontSize="20"
           TextColor="{StaticResource Text}"
           VerticalTextAlignment="Center" />
    </Shell.TitleView>
    <ScrollView Padding="30,12,30,30">
        <VerticalStackLayout Spacing="20">
            <VerticalStackLayout Spacing="4">
                <HorizontalStackLayout Spacing="12" VerticalOptions="Center">
                    <Label x:Name="TermNameLabel"
                           Style="{StaticResource HeaderText}"
                           VerticalOptions="Center" />
                    <ImageButton Source="edit.png"
                                 BackgroundColor="Transparent"
                                 WidthRequest="32"
                                 HeightRequest="32"
                                 Clicked="OnEditTermClicked" />
                </HorizontalStackLayout>

                <Label x:Name="DateRange"/>
            </VerticalStackLayout>
            <VerticalStackLayout Spacing="10">
                <Label Text="Active Courses"/>

                <controls:CardContainer x:Name="CurrentCoursesContainer"
                           ItemsSource="{Binding CurrentCourses}"
                           AddButtonClicked="OnAddClicked">
                    <controls:CardContainer.ItemTemplate>
                        <DataTemplate>
                            <controls:CardDetailed Course="{Binding .}"
                                                   AcademicType="Courses"/>
                        </DataTemplate>
                    </controls:CardContainer.ItemTemplate>
                </controls:CardContainer>

                <Frame x:Name="NoActiveCoursesMessage" IsVisible="False">
                    <Label Text="No Active Courses"
                           FontAttributes="Italic"/>
                </Frame>
                    
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="10">
                <Label Text="Other Courses"/>
                <controls:CardContainer x:Name="OtherCoursesContainer"
                                        ItemsSource="{Binding OtherCourses}"
                                        AddButtonClicked="OnAddClicked">
                    <controls:CardContainer.ItemTemplate>
                        <DataTemplate>
                            <controls:CardCompact Course="{Binding .}"/>
                        </DataTemplate>
                    </controls:CardContainer.ItemTemplate>
                </controls:CardContainer>
            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>